// this file has been automatically generated from oscilloscope_amber.html with html2h.vbs

#define oscilloscope_amber "" \
    "" \
    "<!DOCTYPE html>\n" \
    "<html lang='en'>\n" \
    "\n" \
    "<head>\n" \
    "  <title>Esp32_oscilloscope</title>\n" \
    "\n" \
    "    <meta charset='UTF-8'>\n" \
    "    <meta http-equiv='X-UA-Compatible' content='IE=edge'>\n" \
    "    \n" \
    "    <link rel='shortcut icon' type='image/x-icon' sizes='64x64' href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAllBMVEUwHQIiFALyjw0sGgImFwKrZQgpGQI/JQO2awmzaQiuZghLLQP/lw2CTAZpPwWXWQcgEwIcEQEYDgH7lA2NUwZkOwRZNQT/mw30kA1+Sgb3kg0UDAGoYwhSMAQ2IAL/ng56SAbOeQqHUAadXQdiOgS8bwlDKAPghAvBcgmSVgfHdQqlYQh2RQXWfgteOATpiQyVWAcMBwGHcLVnAAAD7UlEQVRYw92X23riIBSFIRBilEYg1pwPJp6q1rbv/3LDRjGxOp/Ru5l10SyS8svebCBBopDYSvb9svOixD1fiounHkPNwh9Z+X/zu1Gn1bbnFwVSeXahZ30/7rxqul+V86O0Xng1RtjFyOrK+52nM49Yz94DZj2ZvNH/EUCwoljSlwG43MdV9DWT8jXAz6wKY8dJucPcVwDTVeSclMa+eB6QbULoy7keRByqpwHZluv+/HNZAyF05ZMAOYPxV01GMQJCtWZPAdikgv4HCT3mmpV+qiGALFfYSEL6efNjGj+j1HGiQt5bTN06F+taoP02d0HtIoTMTV2jfMx1a9OeW6vxyYD3R/mlMV4lSOSCaNECEhAKRk6SruZFHjUNPPPsfUKXAbWeTRKbA6IcCGArL+GVkeb58jYHy7tJFB9c//9+2tWE+oQsUDJsFgiKIAFZr6jESsfA3+gwgNpCxIHql3W7iZ30Sw0CmBJINxnuA/Kaa+iaDAFkGx1v5bErwFhWkBY8AEADyPhI/tqRfnYpLKkBADOFESG/ADKAGObsIUAlXOd7Km72RMmhFMRDQKYXQcwFugEIH2ZSPgK0bxwmHN8C2DHST5bsPoBSYgBin+oaitW9bV2FsU6uuAuQwXdJAZA5GsDfJdWSuaJWciyp2kMMioqmvNzHx3esL6qtOMfrBKM5DCAMEtBhdDBX41eHpG4huo+6dpvL/Xo6rfUlgOj2jbtGnsPTKijmoMI315Mfab9OdTnvJkX73t1P3vSDiVnty2DqIdlOF4FgRsKVhJ0lfan/uCYGMfOYFT2+U8ayOIbaXyemDgT929nI5hEkSPxOIg0gtgN+eLie5yH7DYDNIuaSPAYIE8NvAFnDOmvxQ4CN4dhcA0yJVog8BNgY/PoKQBmcGiuJhgBwHurRJlcA+c3h0GCDAKyAX1uUfUDGYQ7VwFccFceagHqAYw1zGNCBANxCzfVGsCy+YrP6BgKIB/PQ0Atg7tv9fhgAqY0umi91ARTcgSJCFiBcQayuvH/2ODE5p+TcNBlozEMGADYuPauy7/3SOpiHLTq3SAqH6Lk1bwiqtx9Tq49Vz1/uz3aw5bTfpwYcmeH49Oy79Q9I9XahKz+2XnhQ+XlmPIFDNNUehNeJGPKqqxapKX1tzRkWBXT4u3KvGjPdP+fgFBoO6IYQvWWZeY+LEHkWQGvTMd9xuNQYPQ1I9tA1TM176PyV7wUGPw6K/MlrHxzZqgrTNKym2fI1AJHz1dcmL8XrnzxMSInJv/DR9TRA5QpbqZtP34dv6xh9LNyxlbvr+f79rd/50ah74O8miC0vI7ryZE0676HOT4ruQemxPyk1a9pdSRgxAAAAAElFTkSuQmCC'>\n" \
    "    <link rel='icon' type='image/png' sizes='192x192' href='data:image/png;base64,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'>\n" \
    "    <link rel='apple-touch-icon' sizes='180x180' href='data:image/png;base64,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'>\n" \
    "\n" \
    "  <style>\n" \
    "      hr {border: 0; border-top: 1px solid lightgray; border-bottom: 1px solid lightgray}\n" \
    "\n" \
    "      h1 {font-family: verdana; font-size: 40px; text-align: center}\n" \
    "\n" \
    "      /* define grid for controls - we'll use d2 + d3 + d4 = 100% or d2 + d3 + d3 + d5 = 100% */\n" \
    "      div.d1 {position: relative; width: 100%; height: 48px; font-family: verdana; font-size: 16px; color: hsl(0, 100%, 40%);}\n" \
    "      div.d2 {position: relative; float: left; width: 42%; font-family: verdana; font-size: 30px; color: gray;}\n" \
    "      div.d3 {position: relative; float: left; width: 16%; font-family: verdana; font-size: 30px; color: black;}\n" \
    "      div.d4 {position: relative; float: left; width: 42%; font-family: verdana; font-size: 30px; color: gray;}\n" \
    "      div.d5 {position: relative; float: left; width: 26%;}\n" \
    "\n" \
    "      /* select control */\n" \
    "      select {padding: 8px 24px; border-radius: 12px; font-size: 16px; color: black; background-color: #eee; -webkit-appearance: none; -moz-appearance: none; box-sizing: border-box; border: 3px solid #ccc; -webkit-transition: 0.5s; transition: 0.5s; outline: none}\n" \
    "      select::-ms-expand {display: none}\n" \
    "      select:disabled {background-color: #aaa}\n" \
    "\n" \
    "      /* radio button control */\n" \
    "      .container {display: black; position: relative; padding-left: 222px; margin-bottom: 14px; cursor: pointer; font-family: verdana; font-size: 30px; color: gray; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}\n" \
    "      .container input {position: absolute; opacity: 0; cursor: pointer; height: 0; width: 0}\n" \
    "      .checkmark {position: absolute; top: 0; left: 0; height: 34px; width: 34px; background-color: #ddd; border-radius: 50%}\n" \
    "      .container:hover input ~ .checkmark {background-color: #ccc}\n" \
    "      .container input:checked ~ .checkmark {background-color: hsl(34, 90%, 20%) }\n" \
    "      .checkmark:after {content: ''; position: absolute; display: none}\n" \
    "      .container input:checked ~ .checkmark:after {display: block}\n" \
    "      .container .checkmark:after {top: 9px; left: 9px; width: 15px; height: 15px; border-radius: 50%; background: white}\n" \
    "      .container input:disabled ~ .checkmark {background-color: gray}\n" \
    "      .container input:disabled ~ .checkmark {background-color: #aaa}\n" \
    "\n" \
    "      /* slider control */\n" \
    "      input[type='range'] {-webkit-appearance: none; -webkit-tap-highlight-color: rgba(255,255,255,0); width: 94%; height: 28px; margin: 0; border: none; padding: 4px 4px; border-radius: 28px; background: hsl(34, 90%, 30%); outline: none}\n" \
    "      input[type='range']::-moz-range-track {border: inherit; background: transparent}\n" \
    "      input[type='range']::-ms-track {border: inherit; color: transparent; background: transparent}\n" \
    "      input[type='range']::-ms-fill-lower\n" \
    "      input[type='range']::-ms-fill-upper {background: transparent}\n" \
    "      input[type='range']::-ms-tooltip {display: none}\n" \
    "      input[type='range']::-webkit-slider-thumb {-webkit-appearance: none; width: 38px; height: 26px; border: none; border-radius: 13px; background-color: white}\n" \
    "      input[type='range']::-moz-range-thumb {width: 38px; height: 26px; border: none; border-radius: 13px; background-color: white}\n" \
    "      input[type='range']::-ms-thumb {width: 38px; height: 26px; border-radius: 13px; border: 0; background-color: white}\n" \
    "      input:disabled+.slider {background-color: #aaa}\n" \
    "      input[type='range']:disabled {background: #aaa}\n" \
    "\n" \
    "      /* switch control */\n" \
    "      .switch {position: relative; display: inline-block; width: 60px; height: 34px}\n" \
    "      .slider {position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; -webkit-transition: .4s; transition: .4s}\n" \
    "      .slider:before {position: absolute; content: ''; height: 26px; width: 26px; left: 4px; bottom: 4px; background-color: white; -webkit-transition: .4s; transition: .4s}\n" \
    "      input:checked+.slider {background-color: hsl(34, 90%, 30%) }\n" \
    "      input:focus+.slider {box-shadow: 0 0 1px hsl(34, 90%, 30%) }\n" \
    "      input:checked+.slider:before {-webkit-transform: translateX(26px); -ms-transform: translateX(26px); transform: translateX(26px)}\n" \
    "      .switch input {display: none}\n" \
    "      .slider.round {border-radius: 34px}\n" \
    "      .slider.round:before {border-radius: 50%}\n" \
    "      input:disabled+.slider {background-color: #aaa}\n" \
    "\n" \
    "      /* button control */\n" \
    "      .button {padding: 10px 15px; font-size: 22px;text-align: center; cursor: pointer; outline: none; color: white; border: none; border-radius: 12px; box-shadow: 1px 1px #ccc; position: relative; top: 0px; height: 42px}\n" \
    "      button:disabled {background-color: #aaa}\n" \
    "      button:disabled:hover {background-color: #aaa}\n" \
    "\n" \
    "      /* blue button */\n" \
    "      .button1 {background-color: hsl(207, 90%, 40%) }\n" \
    "      .button1:hover {background-color: hsl(207, 90%, 30%) }\n" \
    "      .button1:active {background-color: hsl(207, 90%, 30%); transform: translateY(3px)}\n" \
    "\n" \
    "      /* green button */\n" \
    "      .button2 {background-color: hsl(82, 90%, 25%) }\n" \
    "      .button2:hover {background-color: hsl(82, 90%, 20%) }\n" \
    "      .button2:active {background-color: hsl(82, 90%, 20%); transform: translateY(3px)}\n" \
    "\n" \
    "      /* red button */\n" \
    "      .button3 {background-color: hsl(0, 100%, 25%) }\n" \
    "      .button3:hover {background-color: hsl(0, 100%, 20%) }\n" \
    "      .button3:active {background-color: hsl(0, 100%, 20%); transform: translateY(3px)}\n" \
    "\n" \
    "    </style>\n" \
    "\n" \
    "    <script type='text/javascript'>\n" \
    "\n" \
    "            // LIST INVALID DIGITAL INPUT GPIOs HERE (without spaces)\n" \
    "            var invalidDigitalInputs = ''; // this is just an example, it really depends on your project\n" \
    "\n" \
    "            // LIST INVALID ANALOG INPUT GPIOs HERE (without spaces)\n" \
    "            var invalidAnalogInputs = '16,17,18'; // this is just an example, it really depends on your project\n" \
    "\n" \
    "\n" \
    "      // from: https://www.w3schools.com/js/js_cookies.asp\n" \
    "      function getCookie (cname) {\n" \
    "        var name = cname + '=';\n" \
    "        var decodedCookie = decodeURIComponent (document.cookie);\n" \
    "        var ca = decodedCookie.split (';');\n" \
    "        for (var i = 0; i < ca.length; i++) {\n" \
    "          var c = ca [i];\n" \
    "          while (c.charAt (0) == ' ') {\n" \
    "            c = c.substring (1);\n" \
    "          }\n" \
    "          if (c.indexOf (name) == 0) {\n" \
    "            return c.substring (name.length, c.length);\n" \
    "          }\n" \
    "        }\n" \
    "        return '';\n" \
    "      }\n" \
    "      // from: https://www.w3schools.com/js/js_cookies.asp\n" \
    "      function setCookie (cname, cvalue, exdays) {\n" \
    "        var d = new Date ();\n" \
    "        d.setTime (d.getTime () + (exdays * 24 * 60 * 60 * 1000));\n" \
    "        var expires = 'expires=' + d.toUTCString ();\n" \
    "        document.cookie = cname + '=' + cvalue + ';' + expires + ';' // path=/';  we wont use path - cookies are used in this page only\n" \
    "      }\n" \
    "    </script>\n" \
    "\n" \
    "  </head>\n" \
    "\n" \
    "  <body>\n" \
    "    \n" \
    "    <br><h1>ESP32 oscilloscope</h1>\n" \
    "\n" \
    "    <div class='d1'>Please customize this file, oscilloscope.html, to suit your project needs. \n" \
    "                    Initialize the invalidDigitalInputs and invalidAnalogInputs variables with the \n" \
    "                    lists of GPIOs that should not be addressed in digital or analog manner.</div>\n" \
    "\n" \
    "    <hr />\n" \
    "    <div class='d1' style='height: 50px;'>\n" \
    "      <div class='d2'>&nbsp;ESP32 GPIOs <small><small>(1, 2)</small></div>\n" \
    "      <div class='d3' style='color: gray;'>\n" \
    "        <select id='gpio1'>\n" \
    "          <option value='0'>GPIO  0</option><option value='1'>GPIO  1</option><option value='2' selected='selected'>GPIO  2</option><option value='3'>GPIO  3</option><option value='4'>GPIO  4</option><option value='5'>GPIO  5</option>\n" \
    "          <option value='12'>GPIO 12</option><option value='13'>GPIO 13</option><option value='14'>GPIO 14</option><option value='15'>GPIO 15</option><option value='16'>GPIO 16</option>\n" \
    "          <option value='17'>GPIO 17</option><option value='18'>GPIO 18</option><option value='19'>GPIO 19</option><option value='21'>GPIO 21</option><option value='22'>GPIO 22</option>\n" \
    "          <option value='23'>GPIO 23</option><option value='25'>GPIO 25</option><option value='26'>GPIO 26</option><option value='27'>GPIO 27</option><option value='32'>GPIO 32</option>\n" \
    "          <option value='33'>GPIO 33</option><option value='34'>GPIO 34</option><option value='35'>GPIO 35</option><option value='36'>GPIO 36</option><option value='39'>GPIO 39</option>\n" \
    "        </select>\n" \
    "      </div>\n" \
    "      <div class='d3' style='color: gray;'>\n" \
    "        <select id='gpio2'>\n" \
    "                <option value='255' selected='selected'></option>\n" \
    "          <option value='0'>GPIO  0</option><option value='1'>GPIO  1</option><option value='2'>GPIO  2</option><option value='3'>GPIO  3</option><option value='4'>GPIO  4</option><option value='5'>GPIO  5</option>\n" \
    "          <option value='12'>GPIO 12</option><option value='13'>GPIO 13</option><option value='14'>GPIO 14</option><option value='15'>GPIO 15</option><option value='16'>GPIO 16</option>\n" \
    "          <option value='17'>GPIO 17</option><option value='18'>GPIO 18</option><option value='19'>GPIO 19</option><option value='21'>GPIO 21</option><option value='22'>GPIO 22</option>\n" \
    "          <option value='23'>GPIO 23</option><option value='25'>GPIO 25</option><option value='26'>GPIO 26</option><option value='27'>GPIO 27</option><option value='32'>GPIO 32</option>\n" \
    "          <option value='33'>GPIO 33</option><option value='34'>GPIO 34</option><option value='35'>GPIO 35</option><option value='36'>GPIO 36</option><option value='39'>GPIO 39</option>\n" \
    "        </select>\n" \
    "      </div>\n" \
    "    </div>\n" \
    "\n" \
    "    <hr />\n" \
    "    <div class='d1'>\n" \
    "      <div class='d2'>&nbsp;digitalRead (GPIO)</div>\n" \
    "      <div class='d3'>\n" \
    "        <label class='container'>&nbsp;<input type='radio' checked='checked' name='radio1' id='digital' onchange=\"\n" \
    "          drawBackgroundAndCalculateParameters ();\n" \
    "          document.getElementById ('sensitivity').disabled = true;\n" \
    "          document.getElementById ('sensitivityLabel').style.color = 'gray';\n" \
    "          document.getElementById ('position').disabled = true;\n" \
    "          document.getElementById ('positionLabel').style.color = 'gray';\n" \
    "          document.getElementById ('posTreshold').disabled = true;\n" \
    "          document.getElementById ('posTriggerLabel').style.color = 'gray';\n" \
    "          document.getElementById ('negTreshold').disabled = true;\n" \
    "          document.getElementById ('negTriggerLabel').style.color = 'gray';\n" \
    "        \"><span class='checkmark'></span></label>\n" \
    "      </div>\n" \
    "    </div>\n" \
    "    <div class='d1'>\n" \
    "      <div class='d2'>&nbsp;analogRead (GPIO)</div>\n" \
    "      <div class='d3'>\n" \
    "        <label class='container'>&nbsp;<input type='radio' name='radio1' id='analog' onchange=\"\n" \
    "          drawBackgroundAndCalculateParameters ();\n" \
    "          document.getElementById ('sensitivity').disabled = false;\n" \
    "          document.getElementById ('sensitivityLabel').style.color = 'black';\n" \
    "          document.getElementById ('position').disabled = false;\n" \
    "          document.getElementById ('positionLabel').style.color = 'black';\n" \
    "          document.getElementById ('posTreshold').disabled = false;\n" \
    "          document.getElementById ('posTriggerLabel').style.color = 'black';\n" \
    "          document.getElementById ('negTreshold').disabled = false;\n" \
    "          document.getElementById ('negTriggerLabel').style.color = 'black';\n" \
    "        \"><span class='checkmark'></span></label>\n" \
    "      </div>\n" \
    "    </div>\n" \
    "\n" \
    "    <hr />\n" \
    "    <div class='d1' id='vSens'>\n" \
    "      <div class='d2'>&nbsp;Vertical sensitivity</div>\n" \
    "      <div class='d3' id='sensitivityLabel'>100 %</div>\n" \
    "      <div class='d5'> \n" \
    "        <input id='sensitivity' type='range' min='0' max='5' value='0' step='1' disabled onchange=\"\n" \
    "          document.getElementById ('sensitivityLabel').textContent = sensitivityLabelFromSensitivitySlider (this.value);\n" \
    "          drawBackgroundAndCalculateParameters ();\n" \
    "        \" />\n" \
    "      </div>\n" \
    "    </div>\n" \
    "\n" \
    "    <div class='d1' id='vPos'>\n" \
    "      <div class='d2'>&nbsp;Vertical position</div>\n" \
    "      <div class='d3' id='positionLabel'>0</div>\n" \
    "      <div class='d5'>\n" \
    "        <input id='position' type='range' min='0' max='4000' value='0' step='100' disabled onchange=\"\n" \
    "          document.getElementById ('positionLabel').textContent = this.value;\n" \
    "          drawBackgroundAndCalculateParameters ();\n" \
    "        \" />\n" \
    "      </div>\n" \
    "    </div>\n" \
    "\n" \
    "    <hr />\n" \
    "    <div class='d1'>\n" \
    "      <div class='d2'>&nbsp;Trigger on ↗ slope <small><small>(1)</small></small></div>\n" \
    "      <div class='d3'>\n" \
    "        <label class='switch'><input type='checkbox' id='posTrigger'><div class='slider round'></div></label>\n" \
    "      </div>\n" \
    "      <div class='d3' id='posTriggerLabel'>on 1000</div>\n" \
    "      <div class='d5'> \n" \
    "        <input id='posTreshold' type='range' min='1' max='4095' value='1000' step='1' disabled onchange=\"\n" \
    "          document.getElementById ('posTriggerLabel').textContent = 'on ' + this.value;\n" \
    "          document.getElementById ('posTrigger').checked = true;\n" \
    "        \" />\n" \
    "      </div>\n" \
    "    </div>\n" \
    "    <div class='d1'>\n" \
    "      <div class='d2'>&nbsp;Trigger on ↘ slope <small><small>(1)</small></small></div>\n" \
    "      <div class='d3'>\n" \
    "        <label class='switch'><input type='checkbox' id='negTrigger'><div class='slider round'></div></label>\n" \
    "      </div>\n" \
    "      <div class='d3' id='negTriggerLabel'>on 3000</div>\n" \
    "      <div class='d5'> \n" \
    "        <input id='negTreshold' type='range' min='0' max='4094' value='3000' step='1' disabled onchange=\"\n" \
    "          document.getElementById('negTriggerLabel').textContent = 'on ' + this.value;\n" \
    "          document.getElementById('negTrigger').checked = true;\n" \
    "        \" />\n" \
    "      </div>\n" \
    "\n" \
    "    </div>\n" \
    "\n" \
    "    <hr />\n" \
    "    <div class='d1'>\n" \
    "      <div class='d2'>&nbsp;Horizontal frequency</div>\n" \
    "      <div class='d3' id='frequencyLabel'>1 KHz</div>\n" \
    "      <div class='d5'>\n" \
    "        <input id='frequency' type='range' min='1' max='17' value='14' step='1' onchange=\"\n" \
    "          document.getElementById ('frequencyLabel').textContent = frequencyLabelFromFrequencySlider (this.value);\n" \
    "          drawBackgroundAndCalculateParameters ();\n" \
    "        \" />\n" \
    "      </div>\n" \
    "    </div>\n" \
    "\n" \
    "    <hr />\n" \
    "    <div class='d1'>\n" \
    "      <div class='d2'>&nbsp;Connect samples</div>\n" \
    "      <div class='d3'>\n" \
    "        <label class='switch'><input type='checkbox' checked id='lines' onclick=\"\n" \
    "          if (!this.checked) document.getElementById ('markers').checked = true;\n" \
    "        \"><div class='slider round'></div></label>\n" \
    "      </div>\n" \
    "    </div>\n" \
    "    <div class='d1'>\n" \
    "      <div class='d2'>&nbsp;Mark samples</div>\n" \
    "      <div class='d3'>\n" \
    "        <label class='switch'><input type='checkbox' checked id='markers' onclick=\"\n" \
    "          if (!this.checked) document.getElementById ('lines').checked = true;\n" \
    "        \"><div class='slider round'></div></label>\n" \
    "      </div>\n" \
    "    </div>\n" \
    "\n" \
    "    <hr />\n" \
    "    <div class='d1'>\n" \
    "      <div class='d2'>&nbsp;Remember settings</div>\n" \
    "      <div class='d3'>\n" \
    "        <label class='switch'><input type='checkbox' id='remember' onclick=\"\n" \
    "          saveSettings ();\n" \
    "        \"><div class='slider round'></div></label>\n" \
    "      </div>\n" \
    "      <div class='d4'>&nbsp;<small><small>(uses cookies)</small></small></div>\n" \
    "    </div>\n" \
    "\n" \
    "    <hr />\n" \
    "    <div class='d1'>\n" \
    "      <div class='d2'>&nbsp;</div>\n" \
    "      <div class='d3'><button class='button button2' id='startButton' onclick=\"\n" \
    "\n" \
    "        if (document.getElementById ('analog').checked && (',' + invalidAnalogInputs + ',').indexOf (',' + document.getElementById ('gpio1').value + ',') != -1) { \n" \
    "                    alert ('Cannot analogRead GPIO ' + document.getElementById ('gpio1').value + '.'); \n" \
    "                } else if (document.getElementById ('analog').checked && document.getElementById ('gpio2').value != '255' && (',' + invalidAnalogInputs + ',').indexOf (',' + document.getElementById ('gpio2').value + ',') != -1) { \n" \
    "                    alert ('Cannot analogRead GPIO ' + document.getElementById ('gpio2').value + '.'); \n" \
    "                } else if (document.getElementById ('digital').checked && (',' + invalidDigitalInputs + ',').indexOf (',' + document.getElementById ('gpio1').value + ',') != -1) {\n" \
    "                    alert ('Cannot digitalRead GPIO ' + document.getElementById ('gpio1').value + '.'); \n" \
    "                } else if (document.getElementById ('digital').checked && document.getElementById ('gpio2').value != '255' && (',' + invalidDigitalInputs + ',').indexOf (',' + document.getElementById ('gpio2').value + ',') != -1) { \n" \
    "                    alert ('Cannot digitalRead GPIO ' + document.getElementById ('gpio2').value + '.'); \n" \
    "                } else {\n" \
    "\n" \
    "           saveSettings ();\n" \
    "           drawBackgroundAndCalculateParameters ();\n" \
    "           enableDisableControls (true);\n" \
    "           startOscilloscope ();\n" \
    "\n" \
    "        }\n" \
    "\n" \
    "      \">&nbsp;START&nbsp;</button></div>\n" \
    "      <div class='d4'><button class='button button3' id='stopButton' disabled onclick=\"\n" \
    "        stopOscilloscope ();\n" \
    "        enableDisableControls (false);\n" \
    "      \">&nbsp;STOP&nbsp;</button></div>\n" \
    "    </div>\n" \
    "\n" \
    "    <br>\n" \
    "\n" \
    "    <canvas id='oscilloscope' width='968' height='512'></canvas></div>\n" \
    "\n" \
    "    <script type='text/javascript'>\n" \
    "\n" \
    "      var lastWidth = 0;\n" \
    "          var currentWidth = document.documentElement.clientWidth; \n" \
    "          window.addEventListener ('resize', (e) => {         \n" \
    "                currentWidth = document.documentElement.clientWidth;\n" \
    "                // if oscilloscope is not running we can resize and redraw canvas right now\n" \
    "                if (document.getElementById ('stopButton').disabled == true) drawBackgroundAndCalculateParameters ();\n" \
    "            });\n" \
    "            // correct canvas size\n" \
    "            function resizeCanvas () {\n" \
    "                if (lastWidth != currentWidth) {\n" \
    "                    document.getElementById ('oscilloscope').width = document.getElementById ('vSens').clientWidth;\n" \
    "                    lastWidth = currentWidth;\n" \
    "                }\n" \
    "            }\n" \
    "            resizeCanvas ();\n" \
    "\n" \
    "      // initialization\n" \
    "      function sensitivityLabelFromSensitivitySlider (value) {\n" \
    "        switch (value) {\n" \
    "          case '0': return '100 %';\n" \
    "          case '1': return '200 %';\n" \
    "          case '2': return '400 %';\n" \
    "          case '3': return '1000 %';\n" \
    "          case '4': return '2000 %';\n" \
    "          case '5': return '4000 %';\n" \
    "        }\n" \
    "      }\n" \
    "      function frequencyLabelFromFrequencySlider (value) {\n" \
    "        switch (value) {\n" \
    "          case '1': return '0,1 Hz';\n" \
    "          case '2': return '0,2 Hz';\n" \
    "          case '3': return '0,5 Hz';\n" \
    "          case '4': return '1 Hz';\n" \
    "          case '5': return '2 Hz';\n" \
    "          case '6': return '5 Hz';\n" \
    "          case '7': return '10 Hz';\n" \
    "          case '8': return '20 Hz';\n" \
    "          case '9': return '50 Hz';\n" \
    "          case '10':  return '60 Hz';\n" \
    "          case '11':  return '100 Hz';\n" \
    "          case '12':  return '200 Hz';\n" \
    "          case '13':  return '500 Hz';\n" \
    "          case '14':  return '1 KHz';\n" \
    "          case '15':  return '2 KHz';\n" \
    "          case '16':  return '5 KHz';\n" \
    "          case '17':  return '10 KHz';\n" \
    "        }\n" \
    "      }\n" \
    "\n" \
    "      // console.log (document.cookie);\n" \
    "\n" \
    "      var v;\n" \
    "      v = getCookie ('gpio1'); if (v != '') document.getElementById ('gpio1').value = v;\n" \
    "      v = getCookie ('gpio2'); if (v != '') document.getElementById ('gpio2').value = v;\n" \
    "      v = getCookie ('analog'); if (v == 'true') document.getElementById ('analog').checked = true; else document.getElementById ('digital').checked = true;\n" \
    "      v = getCookie ('sensitivity'); if (v != '') { document.getElementById ('sensitivity').value = v; document.getElementById ('sensitivityLabel').textContent = sensitivityLabelFromSensitivitySlider (v); }\n" \
    "      v = getCookie ('position'); if (v != '') { document.getElementById ('position').value = v; document.getElementById ('positionLabel').textContent = v;}\n" \
    "      v = getCookie ('posTrigger'); if (v == 'true') document.getElementById ('posTrigger').checked = true;\n" \
    "      v = getCookie ('posTreshold'); if (v != '') { document.getElementById ('posTreshold').value = v; document.getElementById ('posTriggerLabel').textContent = 'on ' + v; }\n" \
    "      v = getCookie ('negTrigger'); if (v == 'true') document.getElementById ('negTrigger').checked = true;\n" \
    "      v = getCookie ('negTreshold'); if (v != '') { document.getElementById ('negTreshold').value = v; document.getElementById ('negTriggerLabel').textContent = 'on ' + v; }\n" \
    "      v = getCookie ('frequency'); if (v != '') { document.getElementById ('frequency').value = v; document.getElementById ('frequencyLabel').textContent = frequencyLabelFromFrequencySlider (v); }\n" \
    "      v = getCookie ('lines'); if (v == 'false') document.getElementById ('lines').checked = false;\n" \
    "      v = getCookie ('markers'); if (v == 'false') document.getElementById ('markers').checked = false;\n" \
    "      v = getCookie ('remember'); if (v == 'true') document.getElementById ('remember').checked = true;\n" \
    "\n" \
    "      enableDisableControls (false);\n" \
    "\n" \
    "      // save settings into cookies\n" \
    "      function saveSettings () {\n" \
    "        if (document.getElementById ('remember').checked) {\n" \
    "          // set cookies for 10 years\n" \
    "          setCookie ('gpio1', document.getElementById ('gpio1').value, 3652);\n" \
    "          setCookie ('gpio2', document.getElementById ('gpio2').value, 3652);\n" \
    "          setCookie ('analog', document.getElementById ('analog').checked, 3652);\n" \
    "          setCookie ('sensitivity', document.getElementById ('sensitivity').value, 3652);\n" \
    "          setCookie ('position', document.getElementById ('position').value, 3652);\n" \
    "          setCookie ('posTrigger', document.getElementById ('posTrigger').checked, 3652);\n" \
    "          setCookie ('posTreshold', document.getElementById ('posTreshold').value, 3652);\n" \
    "          setCookie ('negTrigger', document.getElementById ('negTrigger').checked, 3652);\n" \
    "          setCookie ('negTreshold', document.getElementById ('negTreshold').value, 3652);\n" \
    "          setCookie ('frequency', document.getElementById ('frequency').value, 3652);\n" \
    "          setCookie ('lines', document.getElementById ('lines').checked, 3652);\n" \
    "          setCookie ('markers', document.getElementById ('markers').checked, 3652);\n" \
    "          setCookie ('remember', document.getElementById ('remember').checked, 3652);\n" \
    "        } else {\n" \
    "          // delete cookies\n" \
    "          setCookie ('gpio1', '', -1);\n" \
    "          setCookie ('gpio2', '', -1);\n" \
    "          setCookie ('analog', '', -1);\n" \
    "          setCookie ('sensitivity', '', -1);\n" \
    "          setCookie ('position', '', -1);\n" \
    "          setCookie ('posTrigger', '', -1);\n" \
    "          setCookie ('posTreshold', '', -1);\n" \
    "          setCookie ('negTrigger', '', -1);\n" \
    "          setCookie ('negTreshold', '', -1);\n" \
    "          setCookie ('frequency', '', -1);\n" \
    "          setCookie ('lines', '', -1);\n" \
    "          setCookie ('markers', '', -1);\n" \
    "          setCookie ('remember', '', -1);\n" \
    "        }\n" \
    "      }\n" \
    "\n" \
    "      var webSocket = null;\n" \
    "\n" \
    "      function stopOscilloscope () {\n" \
    "        if (webSocket != null) {\n" \
    "          webSocket.send ('stop');\n" \
    "          webSocket.close ();\n" \
    "          webSocket = null;\n" \
    "        }\n" \
    "      }\n" \
    "\n" \
    "      function startOscilloscope () {\n" \
    "        stopOscilloscope ();\n" \
    "\n" \
    "         if ('WebSocket' in window) {\n" \
    "          // open a web socket\n" \
    "          var ws = new WebSocket ('ws://' + self.location.host + '/runOscilloscope');\n" \
    "          webSocket = ws;\n" \
    "\n" \
    "          ws.onopen = function () {\n" \
    "                        // first send endian identification Uint16 so ESP32 server will know the client architecture\n" \
    "                        endianArray = new Uint16Array (1); endianArray [0] = 0xAABB;\n" \
    "                        ws.send (endianArray);\n" \
    "\n" \
    "                        // then send start command with sampling parameters\n" \
    "                        var startCommand = 'start ' + (document.getElementById ('analog').checked ? 'analog' : 'digital') + ' sampling on GPIO ' + document.getElementById ('gpio1').value + (document.getElementById ('gpio2').value == 255 ? '' : ', ' + document.getElementById ('gpio2').value) + ' every ';\n" \
    "                        switch (document.getElementById ('frequency').value) {\n" \
    "\n" \
    "                            // real sampling times will be passed back to browser in 16 bit integers - take care that values are <= 2^15 ( = 32767) but it is better to keep it below 5000 to be on the safe side !\n" \
    "\n" \
    "                            // please note that oscilloscope reader can put in the output buffer  max 746 - 1 (continuous analog signal) samples per screen,\n" \
    "              //                                                                    max 373 - 1 (1 signal) samples per screen,\n" \
    "              //                                                                    max 248 - 1 (2 signals) samples per screen\n" \
    "                            // but the number may be significantly lower if ESP32 can not keep up to required sampling rate\n" \
    "              // for orientation, oscilloscope can make 1 (1 signal) digital sample roughly every 1.6 us,\n" \
    "              //                                        1 (2 signals) digital sample roughly every 2.5 us,\n" \
    "              //                                        1 (1 signal) analog sample roughly every 70 us,\n" \
    "              //                                        1 (2 signals) analog sample roughly every 150 us,\n" \
    "              //                                        max continuous analog sampling (1 signal only) frequency = 150 kHz (1 signal every 6,6 us)\n" \
    "\n" \
    "                            // 1 sample at a time mode, measurements in ms, actual sampling rate may be lower than specified\n" \
    "\n" \
    "                            case '1':    // screen width = 10 s => horizontal frequency = 0,1 Hz, max 370 (2 signals) samples per screen => sampling interval = 27 ms, sampling frequency (2 signals) = 74 Hz\n" \
    "                                    startCommand += '27 ms screen width = 10000 ms';\n" \
    "                                    break;\n" \
    "                            case '2':    // screen width = 5 s => horizontal frequency = 0,2 Hz, max 357 (2 signals) samples per screen => sampling interval = 14 ms, sampling frequency (2 signals) = 142 Hz\n" \
    "                                    startCommand += '21 ms screen width = 5000 ms';\n" \
    "                                    break; \n" \
    "                            case '3':    // screen width = 2 s => horizontal frequency = 0,5 Hz, max 333 (2 signals) samples per screen => sampling interval = 6 ms, sampling frequency (2 signals) = 322 Hz\n" \
    "                                    startCommand += '6 ms screen width = 2000 ms'; \n" \
    "                                    break;\n" \
    "\n" \
    "                            // screen at a time mode from now on\n" \
    "              // switch to measurements in us from now on, actual sampling rate may be lower than specified\n" \
    "\n" \
    "                            case '4':    // screen width = 1 s => horizontal frequency = 1 Hz, 400 samples per screen => sampling interval = 2500 us, sampling frequency (1 signal) = 400 Hz\n" \
    "                                    startCommand += '2500 us screen width = 1000000 us'; \n" \
    "                                    break;\n" \
    "                            case '5':    // screen width = 500 ms => horizontal frequency = 2 Hz, 400 samples per screen => sampling interval = 1250 us, sampling frequency (1 signal) = 800 Hz\n" \
    "                                    startCommand += '1250 us screen width = 500000 us';\n" \
    "                                    break;\n" \
    "              case '6':    // screen width = 200 ms => horizontal frequency = 5 Hz, 400 samples per screen => sampling interval = 500 us, sampling frequency (1 signal) = 2 kHz\n" \
    "                                    startCommand += '500 us screen width = 200000 us';\n" \
    "                                    break;\n" \
    "              case '7':    // screen width = 100 ms => horizontal frequency = 10 Hz, 400 samples per screen => sampling interval = 250 us, sampling frequency (1 signal) = 4 kHz\n" \
    "                                    startCommand += '250 us screen width = 100000 us';\n" \
    "                                    break;\n" \
    "                            case '8':    // screen width = 50 ms => horizontal frequency = 20 Hz, 400 samples per screen => sampling interval = 125 us, sampling frequency (1 signal) = 8 kHz\n" \
    "                                    startCommand += '125 us screen width = 50000 us';\n" \
    "                                    break;\n" \
    "              case '9':    // screen width = 20 ms => horizontal frequency = 50 Hz, 400 samples per screen => sampling interval = 50 us, sampling frequency (1 signal) = 20 kHz\n" \
    "                                    startCommand += '50 us screen width = 20000 us';\n" \
    "                                    break;\n" \
    "                            case '10':    // screen width = 16 ms => horizontal frequency = 60 Hz, 388 samples per screen => sampling interval = 43 us, sampling frequency (1 signal) = 23,2 kHz\n" \
    "                                  startCommand += '43 us screen width = 16667 us'; \n" \
    "                                    break;\n" \
    "              case '11':    // screen width = 10 ms => horizontal frequency = 100 Hz, 400 samples per screen => sampling interval = 25 us, sampling frequency (single signal) = 40 kHz\n" \
    "                  startCommand += '25 us screen width = 10000 us';\n" \
    "                                    break;\n" \
    "                            case '12':    // screen width = 5 ms => horizontal frequency = 200 Hz, 385 samples per screen => sampling interval = 13 us, sampling frequency = 76,9 kHz\n" \
    "                  startCommand += '13 us screen width = 5000 us'; \n" \
    "                                    break;\n" \
    "\n" \
    "              // ESP32 can not sample faster than 150 kHz, we can only reduce the number of samples per screen\n" \
    "          \n" \
    "              case '13':    // screen width = 2 ms => horizontal frequency = 500 Hz, 372 samples per screen => sampling interval = 6 us, sampling frequency = 166,6 kHz\n" \
    "                  startCommand += '7 us screen width = 2000 us'; \n" \
    "                                    break;\n" \
    "              case '14':    // screen width = 1 ms => horizontal frequency = 1 kHz, 334 samples per screen => sampling interval = 3 us, sampling frequency = 333,3 kHz\n" \
    "                  startCommand += '3 us screen width = 1000 us'; \n" \
    "                                    break;\n" \
    "                            case '15':    // screen width = 500 us => horizontal frequency = 2 kHz, 250 samples per screen => sampling interval = 2 us, sampling frequency = 500 kHz\n" \
    "                  startCommand += '2 us screen width = 500 us'; \n" \
    "                                    break;\n" \
    "                            case '16':    // screen width = 200 us => horizontal frequency = 5 kHz, 200 samples per screen => sampling interval = 1 us, sampling frequency = 1 MHz\n" \
    "                  startCommand += '1 us screen width = 200 us'; \n" \
    "                                    break;\n" \
    "              case '17':    // screen width = 100 us => horizontal frequency = 10 kHz, 100 samples per screen => sampling interval = 1 us, sampling frequency = 1 MHz\n" \
    "                  startCommand += '1 us screen width = 100 us'; \n" \
    "                                    break;\n" \
    "                        }\n" \
    "                        if (document.getElementById ('posTrigger').checked) startCommand += ' set positive slope trigger to ' + (document.getElementById ('analog').checked ? document.getElementById ('posTreshold').value : 1);\n" \
    "                        if (document.getElementById ('negTrigger').checked) startCommand += ' set negative slope trigger to ' + (document.getElementById ('analog').checked ? document.getElementById ('negTreshold').value : 0);\n" \
    "\n" \
    "                        ws.send (startCommand);\n" \
    "          };\n" \
    "\n" \
    "          ws.onmessage = function (evt) {\n" \
    "            if (typeof (evt.data) === 'string' || evt.data instanceof String) { // UTF-8 formatted string - error message from ESP32 server\n" \
    "              alert ('Error message from server: ' + evt.data); // oscilloscope code reporting error (synatx error, ...)\n" \
    "              enableDisableControls (false);\n" \
    "            }\n" \
    "            if (evt.data instanceof Blob) { // binary data - array of samples\n" \
    "              // receive binary data as blob and then convert it into array buffer and draw oscilloscope signal\n" \
    "              var myInt16Array = null;\n" \
    "              var myArrayBuffer = null;\n" \
    "              var myFileReader = new FileReader ();\n" \
    "              myFileReader.onload = function (event) {\n" \
    "                myArrayBuffer = event.target.result;\n" \
    "                myInt16Array = new Int16Array (myArrayBuffer);\n" \
    "                // console.log (myInt16Array.length); // the number of 16-bit words received\n" \
    "                // console.log (myInt16Array);\n" \
    "                drawSignal (myInt16Array, 0, myInt16Array.length - 1); \n" \
    "              };\n" \
    "              myFileReader.readAsArrayBuffer (evt.data);\n" \
    "            }\n" \
    "          };\n" \
    "\n" \
    "          ws.onclose = function () {\n" \
    "            // websocket is closed\n" \
    "            console.log ('WebSocket closed.');\n" \
    "            // enableDisableControls (false); // TO DO: figure out why some onclose events (at lower frequencies) are false, than uncomment this line\n" \
    "          };\n" \
    "\n" \
    "          ws.onerror = function (event) {\n" \
    "            ws.close ();\n" \
    "            alert ('WebSocket error: ' + event);\n" \
    "            enableDisableControls (false);\n" \
    "          };\n" \
    "\n" \
    "        } else {\n" \
    "          alert ('WebSockets are not supported by your browser.');\n" \
    "        }\n" \
    "      }\n" \
    "\n" \
    "      // drawing parameters\n" \
    "\n" \
    "      var screenWidthTime;        // oscilloscope screen width in time units\n" \
    "      var continuousSamplingTime; // only when continuous sampliong takes place\n" \
    "      var restartDrawingSignal;   // used for drawing the signal\n" \
    "      var screenTimeOffset;       // used for drawing the signal\n" \
    "\n" \
    "      var xOffset;\n" \
    "      var xScale;\n" \
    "      var yOffset;\n" \
    "      var yScale;\n" \
    "      var yLast;\n" \
    "\n" \
    "      function drawBackgroundAndCalculateParameters () {\n" \
    "\n" \
    "        resizeCanvas ();\n" \
    "\n" \
    "        var x;    // x coordinate\n" \
    "        var y;    // y coordinate\n" \
    "        var i;    // x coordinate in canvas units\n" \
    "        var j;    // y coordinate in canas units\n" \
    "        var yGridTick;\n" \
    "        var gridTop;  // y value at the top of the grid\n" \
    "\n" \
    "        restartDrawingSignal = true;  // drawing parameter - for later use\n" \
    "        if (continuousSamplingTime == 0) {\n" \
    "            screenTimeOffset = 0;   // drawing parameter - for later use\n" \
    "        } else {\n" \
    "            screenTimeOffset = -continuousSamplingTime; // so that the first real continuous sample will start at 0\n" \
    "        }\n" \
    "\n" \
    "        var canvas = document.getElementById ('oscilloscope');\n" \
    "        var ctx = canvas.getContext ('2d');\n" \
    "\n" \
    "        // colour background\n" \
    "        ctx.fillStyle = 'hsl(34, 90%, 10%)';\n" \
    "        ctx.beginPath ();\n" \
    "        ctx.moveTo (0, 0);\n" \
    "        ctx.lineTo (canvas.width - 1, 0);\n" \
    "        ctx.lineTo (canvas.width - 1, canvas.height - 1);\n" \
    "        ctx.lineTo (0, canvas.height - 1);\n" \
    "        ctx.fill ();\n" \
    "\n" \
    "        // calculate drawing parametes and draw grid and scale\n" \
    "        ctx.strokeStyle = 'hsl(34, 90%, 40%)';\n" \
    "        ctx.lineWidth = 1;\n" \
    "        ctx.font = '16px Verdana';\n" \
    "\n" \
    "        xOffset = 50;\n" \
    "\n" \
    "        // draw analog signal grid\n" \
    "\n" \
    "        if (document.getElementById ('analog').checked) {\n" \
    "\n" \
    "          // signal sensitivity\n" \
    "\n" \
    "          yScale = -(canvas.height - 60) / 4096;\n" \
    "          yGridTick = 1000;\n" \
    "\n" \
    "          switch (document.getElementById ('sensitivity').value) {\n" \
    "            case '0': yScale *= 1; break;\n" \
    "            case '1': yScale *= 2; break;\n" \
    "            case '2': yScale *= 4; yGridTick = 200; break;\n" \
    "            case '3': yScale *= 8; yGridTick = 200; break;\n" \
    "            case '4': yScale *= 10; yGridTick = 100; break;\n" \
    "            case '5': yScale *= 20; yGridTick = 100; break;\n" \
    "          }\n" \
    "\n" \
    "          yOffset = canvas.height - 50 - parseInt (document.getElementById ('position').value) * yScale;\n" \
    "          gridTop = yOffset + yScale * 4095 + 5;\n" \
    "\n" \
    "          // draw horizontal grid and scale\n" \
    "\n" \
    "          for (y = 0; y < 4096; y += yGridTick) {\n" \
    "            j = yOffset + yScale * y;\n" \
    "            ctx.strokeText (y.toString (), 5, j + 5);\n" \
    "            ctx.beginPath ();\n" \
    "            ctx.moveTo (xOffset - 5, j);\n" \
    "            ctx.lineTo (canvas.width, j);\n" \
    "            ctx.stroke ();\n" \
    "          }\n" \
    "\n" \
    "        // draw digital signal grid\n" \
    "\n" \
    "        } else {\n" \
    "          yOffset = canvas.height - 100;\n" \
    "          yScale = -(canvas.height - 200);\n" \
    "          for (y = 0; y <= 1; y += 0.333333) {\n" \
    "            j = yOffset + yScale * y;\n" \
    "            ctx.beginPath ();\n" \
    "            ctx.moveTo (xOffset - 5, j);\n" \
    "            ctx.lineTo (canvas.width, j);\n" \
    "            ctx.stroke ();\n" \
    "          }\n" \
    "          ctx.strokeText ('0', 5, yOffset + 5);\n" \
    "          ctx.strokeText ('1', 5, yOffset + yScale * 1 + 5);\n" \
    "          gridTop = yOffset + yScale * 1 - 25;\n" \
    "        }\n" \
    "\n" \
    "        // draw vertical grid and scale\n" \
    "\n" \
    "        switch (document.getElementById ('frequency').value) {\n" \
    "\n" \
    "          case '1': screenWidthTime = 10000; // (ms) horizontal frequency = 0,1 Hz, whole width = 10 s, grid tick width = 1 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '1 s';\n" \
    "              break;\n" \
    "          case '2': screenWidthTime = 5000; // (ms) horizontal frequency = 0,2 Hz, whole width = 5 s, grid tick width = 0,5 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '500 ms';\n" \
    "              break;\n" \
    "          case '3': screenWidthTime = 2000; // (ms) horizontal frequency = 0,5 Hz, whole width = 2 s, grid tick width = 0,2 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '200 ms';\n" \
    "              break;\n" \
    "          case '4': screenWidthTime = 1000000; // (us) horizontal frequency = 1 Hz, whole width = 1 s, grid tick width = 0,1 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '100 ms';\n" \
    "              break;\n" \
    "          case '5': screenWidthTime = 500000; // (us) horizontal frequency = 2 Hz, whole width = 0,5 s, grid tick width = 0,05 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '50 ms';\n" \
    "              break;\n" \
    "          case '6': screenWidthTime = 200000; // (us) horizontal frequency = 5 Hz, whole width = 0,2 s, grid tick width = 0,02 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '20 ms';\n" \
    "              break;\n" \
    "          case '7': screenWidthTime = 100000; // (us) horizontal frequency = 10 Hz, whole width = 0,1 s, grid tick width = 0,01 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '10 ms';\n" \
    "              break;\n" \
    "          case '8': screenWidthTime = 50000; // (us) horizontal frequency = 20 Hz, whole width = 0,05 s, grid tick width = 0,005 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '5 ms';\n" \
    "              break;\n" \
    "          case '9': screenWidthTime = 20000; // horizontal frequency = 50 Hz, whole width = 0,02 s, grid tick width = 0,002 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '2 ms';\n" \
    "              break;\n" \
    "          case '10':  screenWidthTime = 16667; // horizontal frequency = 60 Hz, whole width = 0,017 s, grid tick width = 0,002 s\n" \
    "              xGridTick = 2000;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '2 ms';\n" \
    "              break;\n" \
    "          case '11':  screenWidthTime = 10000; // horizontal frequency = 100 Hz, whole width = 0,01 s, grid tick width = 0,001 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '1 ms';\n" \
    "              break;\n" \
    "          case '12':  screenWidthTime = 5000; // horizontal frequency = 200 Hz, whole width = 0,005 s, grid tick width = 0,0005 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '500 us';\n" \
    "              break;\n" \
    "          case '13':  screenWidthTime = 2000; // horizontal frequency = 500 Hz, whole width = 0,002 s, grid tick width = 0,0002 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '200 us';\n" \
    "              break;\n" \
    "          case '14':  screenWidthTime = 1000; // horizontal frequency = 1000 Hz, whole width = 0,001 s, grid tick width = 0,0001 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '100 us';\n" \
    "              break;\n" \
    "          case '15':  screenWidthTime = 500; // horizontal frequency = 2000 Hz, whole width = 0,00005 s, grid tick width = 0,00005 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '50 us';\n" \
    "              break;\n" \
    "          case '16':  screenWidthTime = 200; // horizontal frequency = 5000 Hz, whole width = 0,00002 s, grid tick width = 0,00002 s\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '20 us';\n" \
    "              break;\n" \
    "          case '17':  screenWidthTime = 100; // horizontal frequency = 10000 Hz, whole width = 0,0001 s (100 us), grid tick width = 0,0001 s (10 us)\n" \
    "              xGridTick = screenWidthTime / 10;\n" \
    "              xScale = (canvas.width - xOffset) / screenWidthTime;\n" \
    "              xLabel = '10 us';\n" \
    "              break;\n" \
    "        }\n" \
    "\n" \
    "        for (x = 0; x < screenWidthTime; x += xGridTick) {\n" \
    "          i = xOffset + xScale * x;\n" \
    "          ctx.strokeText (xLabel, i + 25, yOffset + 25);\n" \
    "          ctx.beginPath ();\n" \
    "          ctx.moveTo (i, yOffset + 5);\n" \
    "          ctx.lineTo (i, gridTop);\n" \
    "          ctx.stroke ();\n" \
    "        }\n" \
    "      }\n" \
    "\n" \
    "      drawBackgroundAndCalculateParameters ();\n" \
    "\n" \
    "      var lastI;  // last drawn sample (time)\n" \
    "      var lastJ1; // signal 1\n" \
    "      var lastJ2; // signal 2\n" \
    "\n" \
    "      var wordsPerSample = 1; // will be correctly initialized when dummy sample arrives: 2 for 1 signal, 3 for 2 signals\n" \
    "\n" \
    "      function drawSignal (myInt16Array, startInd, endInd) { \n" \
    "        if (startInd > endInd) return;\n" \
    "        // console.log ('drawSignal (' + startInd.toString () + ', ' + endInd.toString () + ')');\n" \
    "\n" \
    "        // find dummy sample (the one with value < 0) which will tells javascript client to start drawing from beginning of the screen\n" \
    "        for (var ind = startInd; ind <= endInd; ind += wordsPerSample) {\n" \
    "          if (myInt16Array [ind] < 0) { // if signal value < 0 this is a dummy value which also holds the information about how numbers are stored in the buffer\n" \
    "            switch (myInt16Array [ind]) {\n" \
    "              case -2:  wordsPerSample = 2; // 1 signal (analog or digital) with deltaTime\n" \
    "                        continuousSamplingTime = 0; // actual sambling wil be provided in the buffer\n" \
    "                        break;\n" \
    "              case -3:  wordsPerSample = 3; // 2 signals (analog or digital) with deltaTime\n" \
    "                        continuousSamplingTime = 0; // actual sambling wil be provided in the buffer\n" \
    "                        break;\n" \
    "              default:  // < 0              // continuous (analog) sampling\n" \
    "                        wordsPerSample = 1;\n" \
    "                        continuousSamplingTime = -myInt16Array [ind]; // sampling time is provided in the dummy sample\n" \
    "                        screenTimeOffset = -continuousSamplingTime; // so that the first real continuous sample will start at 0\n" \
    "            }\n" \
    "            // console.log ('Got dummy sample at ' + ind.toString () + ' value: ' + myInt16Array [ind].toString ());\n" \
    "            drawSignal (myInt16Array, startInd, ind - wordsPerSample); // to previuos sample\n" \
    "            drawBackgroundAndCalculateParameters ();\n" \
    "            drawSignal (myInt16Array, ind + wordsPerSample, endInd); // from next sample on\n" \
    "            return;\n" \
    "          }\n" \
    "        }\n" \
    "\n" \
    "        var canvas = document.getElementById ('oscilloscope');\n" \
    "        var ctx = canvas.getContext ('2d');\n" \
    "\n" \
    "        var analog = document.getElementById ('analog').checked;\n" \
    "        var lines = document.getElementById ('lines').checked;\n" \
    "        var markers = document.getElementById ('markers').checked;\n" \
    "\n" \
    "        ctx.lineWidth = 3;\n" \
    "\n" \
    "        // console.log ('arayBufferType = ' + arayBufferType.toString ());\n" \
    "        for (var ind = startInd; ind <= endInd; ind += wordsPerSample) { \n" \
    "\n" \
    "          // calculate sample position\n" \
    "          if (continuousSamplingTime == 0) {\n" \
    "              screenTimeOffset += myInt16Array [ind + wordsPerSample - 1]; // deltaTime is provided in the buffer\n" \
    "          } else {\n" \
    "              screenTimeOffset += continuousSamplingTime; // continouus sampling\n" \
    "          }\n" \
    "\n" \
    "          i = xOffset + xScale * screenTimeOffset;   // time\n" \
    "          j1 = yOffset + yScale * myInt16Array [ind]; // signal 1\n" \
    "          j2 = wordsPerSample >= 3 ? yOffset + yScale * myInt16Array [ind + 1] : -1; // signal 2, -1 if missing\n" \
    "\n" \
    "          // lines\n" \
    "          if (lines) {\n" \
    "            if (restartDrawingSignal) {\n" \
    "              restartDrawingSignal = false;\n" \
    "            } else {\n" \
    "              if (analog) { // analog\n" \
    "                // signal 2\n" \
    "                if (j2 >= 0) {\n" \
    "                  ctx.strokeStyle = '#ff8000';\n" \
    "                  ctx.beginPath ();\n" \
    "                  ctx.moveTo (lastI, lastJ2);\n" \
    "                  ctx.lineTo (i, j2);\n" \
    "                  ctx.stroke ();\n" \
    "                }\n" \
    "                // signal 1\n" \
    "                ctx.strokeStyle = '#ffbf80';\n" \
    "                ctx.beginPath ();\n" \
    "                ctx.moveTo (lastI, lastJ1);\n" \
    "                ctx.lineTo (i, j1);\n" \
    "                ctx.stroke ();\n" \
    "              } else { // digital\n" \
    "                // signal 2\n" \
    "                if (j2 >= 0) {\n" \
    "                  ctx.strokeStyle = '#ff8000';\n" \
    "                  ctx.beginPath ();\n" \
    "                  ctx.moveTo (lastI, lastJ2);\n" \
    "                  ctx.lineTo (i, lastJ2);\n" \
    "                  ctx.lineTo (i, j2);\n" \
    "                  ctx.stroke ();\n" \
    "                }\n" \
    "                // signal 1\n" \
    "                ctx.strokeStyle = '#ffbf80';\n" \
    "                ctx.beginPath ();\n" \
    "                ctx.moveTo (lastI, lastJ1);\n" \
    "                ctx.lineTo (i, lastJ1);\n" \
    "                ctx.lineTo (i, j1);\n" \
    "                ctx.stroke ();\n" \
    "              }\n" \
    "            }\n" \
    "\n" \
    "          }\n" \
    "\n" \
    "          // markers\n" \
    "          if (markers) {\n" \
    "            // signal 2\n" \
    "            if (j2 >= 0) {\n" \
    "              ctx.strokeStyle = '#ff8000';\n" \
    "              ctx.beginPath ();\n" \
    "              ctx.arc (i, j2, 2, 0, 2 * Math.PI, false);\n" \
    "              ctx.stroke ();\n" \
    "            }\n" \
    "            // signal 1\n" \
    "            ctx.strokeStyle = '#ffbf80';\n" \
    "            ctx.beginPath ();\n" \
    "            ctx.arc (i, j1, 2, 0, 2 * Math.PI, false);\n" \
    "            ctx.stroke ();\n" \
    "          }\n" \
    "\n" \
    "          lastI = i;\n" \
    "          lastJ1 = j1;\n" \
    "          lastJ2 = j2;\n" \
    "        }\n" \
    "\n" \
    "      }\n" \
    "\n" \
    "      // eneable and disable controls\n" \
    "\n" \
    "      function enableDisableControls (workMode) {\n" \
    "        if (workMode) {\n" \
    "          // disable GPIO, analog/digital, trigger, frequency and start, enable stop\n" \
    "          document.getElementById ('gpio1').disabled = true;\n" \
    "          document.getElementById ('gpio2').disabled = true;\n" \
    "          document.getElementById ('analog').disabled = true;\n" \
    "          document.getElementById ('digital').disabled = true;\n" \
    "          document.getElementById ('posTrigger').disabled = true;\n" \
    "          document.getElementById ('posTreshold').disabled = true;\n" \
    "          document.getElementById ('posTriggerLabel').style.color = 'gray';\n" \
    "          document.getElementById ('negTrigger').disabled = true;\n" \
    "          document.getElementById ('negTreshold').disabled = true;\n" \
    "          document.getElementById ('negTriggerLabel').style.color = 'gray';\n" \
    "          document.getElementById ('frequency').disabled = true;\n" \
    "          document.getElementById ('frequencyLabel').style.color = 'gray';\n" \
    "          document.getElementById ('startButton').disabled = true;\n" \
    "          document.getElementById ('stopButton').disabled = false;\n" \
    "        } else {\n" \
    "          // enable GPIO, analog/digital, trigger, frequency and start, disable stop\n" \
    "          document.getElementById ('gpio1').disabled = false;\n" \
    "          document.getElementById ('gpio2').disabled = false;\n" \
    "          document.getElementById ('analog').disabled = false;\n" \
    "          document.getElementById ('digital').disabled = false;\n" \
    "          document.getElementById ('posTrigger').disabled = false;\n" \
    "          document.getElementById ('negTrigger').disabled = false;\n" \
    "          document.getElementById ('frequency').disabled = false;\n" \
    "          document.getElementById ('frequencyLabel').style.color = 'black';\n" \
    "          document.getElementById ('startButton').disabled = false;\n" \
    "          document.getElementById ('stopButton').disabled = true;\n" \
    "          if (document.getElementById ('analog').checked) {\n" \
    "            document.getElementById ('sensitivity').disabled = false;\n" \
    "            document.getElementById ('sensitivityLabel').style.color = 'black';\n" \
    "            document.getElementById ('position').disabled = false;\n" \
    "            document.getElementById ('positionLabel').style.color = 'black';\n" \
    "            document.getElementById ('posTreshold').disabled = false;\n" \
    "            document.getElementById ('posTriggerLabel').style.color = 'black';\n" \
    "            document.getElementById ('negTreshold').disabled = false;\n" \
    "            document.getElementById ('negTriggerLabel').style.color = 'black';\n" \
    "          }\n" \
    "        }\n" \
    "      }\n" \
    "\n" \
    "    </script>\n" \
    "  </body>\n" \
    "</html>\n" \
    ""
